{"version":3,"sources":["pages/tournament/Tournament.module.scss","components/header/Header.module.scss","components/layout/Layout.module.scss","pages/dashboard/Dashboard.module.scss","modules/routing/routes.ts","components/tournamentCard/TournamentCard.tsx","components/layout/Layout.tsx","pages/dashboard/Dashboard.tsx","components/leaderboard/Leaderboard.tsx","pages/tournament/Tournament.tsx","components/header/Header.tsx","modules/auth/auth.ts","api/user.ts","hooks/useAuth.ts","App.tsx","index.tsx"],"names":["module","exports","Routes","TournamentCard","title","Layout","children","direction","style","flexDirection","className","s","layout","Dashboard","tournaments","Array","from","length","_","index","id","label","icon","PrimeIcons","PLUS","grid","map","to","generatePath","tournamentId","Leaderboard","leaders","name","points","Tournament","leaderboard","content","header","Header","login","logout","user","logo","src","alt","onClick","GOOGLE","firebaseConfig","apiKey","process","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREABASE_APP_ID","firebase","initializeApp","provider","auth","GoogleAuthProvider","signIn","axios","post","REACT_APP_API_URL","then","response","data","token","useAuth","useState","setUser","useEffect","localStorage","getItem","get","headers","Authorization","getUser","profileImageUrl","signInWithPopup","a","result","uid","displayName","photoURL","setItem","removeItem","App","path","ReactDOM","render","document","getElementById"],"mappings":"gGACAA,EAAOC,QAAU,CAAC,YAAc,gCAAgC,QAAU,8B,mBCA1ED,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,uB,mBCAzDD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,KAAO,0B,+GCDZC,EAEA,aAFAA,EAGC,4B,+BCIDC,EAA4B,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAC1C,OAAO,cAAC,IAAD,CAAMA,MAAOA,K,iBCATC,EAAoB,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,SAAqC,IAA3BC,iBAA2B,MAAf,SAAe,EACvE,OACE,qBAAKC,MAAO,CAAEC,cAAeF,GAAaG,UAAWC,IAAEC,OAAvD,SACGN,K,iBCDMO,EAAY,WACvB,IAAMC,EAAcC,MAAMC,KAAK,CAAEC,OAAQ,KAAM,SAACC,EAAGC,GAAJ,MAAe,CAC5DC,GAAID,EACJf,MAAM,gBAAD,OAAkBe,OAGzB,OACE,eAAC,EAAD,WACE,8BACE,cAAC,IAAD,CAAQE,MAAM,oBAAoBC,KAAMC,IAAWC,SAGrD,qBAAKd,UAAWC,IAAEc,KAAlB,SACGX,EAAYY,KAAI,gBAAGN,EAAH,EAAGA,GAAIhB,EAAP,EAAOA,MAAP,OACf,cAAC,IAAD,CAAeuB,GAAIC,YAAa1B,EAAmB,CAAE2B,aAAcT,IAAnE,SACE,cAAC,EAAD,CAAgBhB,MAAOA,KADdgB,Y,QCjBRU,EAAyB,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,QAASrB,EAAgB,EAAhBA,UAChD,OACE,sBAAKA,UAAWA,EAAhB,UACE,6CAECqB,EAAQL,KAAI,gBAAGM,EAAH,EAAGA,KAAMC,EAAT,EAASA,OAAT,OACX,gCACE,+BAAOD,IACP,+BAAOC,MAFCD,U,iBCNLE,EAAa,WACxB,IAAMC,EAAcpB,MAAMC,KAAK,CAAEC,OAAQ,MAAO,SAACC,EAAGC,GAAJ,MAAe,CAC7Da,KAAM,WAAab,EACnBc,OAAgB,GAARd,MAGV,OACE,eAAC,EAAD,CAAQZ,UAAU,MAAlB,UACE,sBAAKG,UAAWC,IAAEyB,QAAlB,UACE,4CAEA,eAAC,IAAD,WACE,cAAC,IAAD,CAAUC,OAAO,UAAjB,uBACA,cAAC,IAAD,CAAUA,OAAO,WAAjB,wBACA,cAAC,IAAD,CAAUA,OAAO,YAAjB,+BAIJ,cAAC,EAAD,CAAa3B,UAAWC,IAAEwB,YAAaJ,QAASI,Q,iBCXzCG,EAAoB,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,KACjD,OACE,yBAAQ/B,UAAWC,IAAE0B,OAArB,UACE,qBACE3B,UAAWC,IAAE+B,KACbC,IAAI,6DACJC,IAAI,aAEN,8BACGH,EACC,cAAC,IAAD,CAAQpB,MAAM,SAASwB,QAASL,IAEhC,cAAC,IAAD,CAAQnB,MAAM,UAAUC,KAAMC,IAAWuB,OAAQD,QAASN,U,kDCvBvDQ,G,MAAiB,CAC5BC,OAAQC,oIAAYC,2BACpBC,WAAYF,oIAAYG,+BACxBC,UAAWJ,oIAAYK,8BACvBC,cAAeN,oIAAYO,kCAC3BC,kBAAmBR,oIAAYS,uCAC/BC,MAAOV,oIAAYW,6BAGrBC,IAASC,cAAcf,GAEhB,IAAMgB,EAAW,IAAIF,IAASG,KAAKC,mBAC7BD,EAAOH,IAASG,OCLvBE,EAAS,SAACzB,GACd,OAAO0B,IACJC,KADI,UACInB,oIAAYoB,kBADhB,UAC2C5B,GAC/C6B,MAAK,SAACC,GAAD,OAAgDA,EAASC,KAAKC,UCT3DC,EAAU,WACrB,MAAwBC,mBAAsB,MAA9C,mBAAOlC,EAAP,KAAamC,EAAb,KAEAC,qBAAU,WACR,IAAMJ,EAAQK,aAAaC,QAAQ,SAC/BN,GDqBe,SAACA,GACtB,OAAON,IACJa,IADI,UACG/B,oIAAYoB,kBADf,SACyC,CAC5CY,QAAS,CACPC,cAAc,UAAD,OAAYT,MAG5BH,MAAK,SAACC,GAAD,OAAmCA,EAASC,QC3BhDW,CAAQV,GAAOH,MAAK,SAAA7B,GAClBmC,EAAQ,CACNxD,GAAIqB,EAAKrB,GACTY,KAAMS,EAAKT,KACXoD,gBAAiB3C,EAAK2C,uBAI3B,IAiBH,MAAO,CAAC3C,EAAM,CAAEF,MAfF,WDHPyB,EAAKqB,gBAAgBtB,GAAUO,KAA/B,+BAAAgB,EAAA,MAAoC,WAAMC,GAAN,uBAAAD,EAAA,6DACnC7C,EAAO,CACXrB,GAAE,UAAEmE,EAAO9C,YAAT,aAAE,EAAa+C,IACjBxD,KAAI,UAAEuD,EAAO9C,YAAT,aAAE,EAAagD,YACnBL,gBAAe,UAAEG,EAAO9C,YAAT,aAAE,EAAaiD,UAJS,SAOrBxB,EAAOzB,GAAM6B,MAAK,SAAAG,GAAK,OAAIA,KAPN,cAOnCA,EAPmC,yBASlC,CAAEA,QAAOhC,SATyB,2CAApC,uDCIQ6B,MAAK,YAAsB,IAAnBG,EAAkB,EAAlBA,MAAOhC,EAAW,EAAXA,KAC1BmC,EAAQnC,GACRqC,aAAaa,QAAQ,QAASlB,OAYXjC,OARR,WACCsC,aAAaC,QAAQ,WAEjCH,EAAQ,MACRE,aAAac,WAAW,cCtBjBC,EAAM,WACjB,MAAkCnB,IAAlC,mBAAOjC,EAAP,YAAeF,EAAf,EAAeA,MAAOC,EAAtB,EAAsBA,OAEtB,OACE,qCACE,cAAC,EAAD,CAAQD,MAAOA,EAAOC,OAAQA,EAAQC,KAAMA,IAC5C,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOqD,KAAM5F,EAAb,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAO4F,KAAM5F,EAAb,SACE,cAAC,EAAD,MAGF,cAAC,IAAD,CAAUyB,GAAIzB,a,MCjBxB6F,IAASC,OACP,cAAC,aAAD,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.e1ebec12.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"leaderboard\":\"Tournament_leaderboard__b1hvq\",\"content\":\"Tournament_content__tV85N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1fCsm\",\"logo\":\"Header_logo__2gAbO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__3qLmz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Dashboard_grid__1ouZL\"};","export const Routes = {\n  login: '/login',\n  dashboard: '/dashboard',\n  tournament: '/tournament/:tournamentId',\n}\n","import { FC } from 'react'\nimport { Card } from 'primereact/card'\n\ninterface Props {\n  title: string\n}\n\nexport const TournamentCard: FC<Props> = ({ title }) => {\n  return <Card title={title} />\n}\n","import { FC } from 'react'\n\nimport s from './Layout.module.scss'\n\ninterface Props {\n  direction?: 'row' | 'column'\n}\n\nexport const Layout: FC<Props> = ({ children, direction = 'column' }) => {\n  return (\n    <div style={{ flexDirection: direction }} className={s.layout}>\n      {children}\n    </div>\n  )\n}\n","import { Button } from 'primereact/button'\nimport { PrimeIcons } from 'primereact/api'\nimport { generatePath, Link } from 'react-router-dom'\n\nimport { Routes } from 'modules/routing'\nimport { TournamentCard } from 'components/tournamentCard'\nimport { Layout } from 'components/layout'\n\nimport s from './Dashboard.module.scss'\n\nexport const Dashboard = (): JSX.Element => {\n  const tournaments = Array.from({ length: 10 }, (_, index) => ({\n    id: index,\n    title: `Rofloturik - ${index}`,\n  }))\n\n  return (\n    <Layout>\n      <div>\n        <Button label=\"Create tournament\" icon={PrimeIcons.PLUS} />\n      </div>\n\n      <div className={s.grid}>\n        {tournaments.map(({ id, title }) => (\n          <Link key={id} to={generatePath(Routes.tournament, { tournamentId: id })}>\n            <TournamentCard title={title} />\n          </Link>\n        ))}\n      </div>\n    </Layout>\n  )\n}\n","import { FC } from 'react'\n\ninterface Props {\n  leaders: Array<{ name: string; points: number }>\n  className?: string\n}\n\nexport const Leaderboard: FC<Props> = ({ leaders, className }) => {\n  return (\n    <div className={className}>\n      <h2>Leaderboard</h2>\n\n      {leaders.map(({ name, points }) => (\n        <div key={name}>\n          <span>{name}</span>\n          <span>{points}</span>\n        </div>\n      ))}\n    </div>\n  )\n}\n","import { TabView, TabPanel } from 'primereact/tabview'\n\nimport { Layout } from 'components/layout'\nimport { Leaderboard } from 'components/leaderboard'\n\nimport s from './Tournament.module.scss'\n\nexport const Tournament = (): JSX.Element => {\n  const leaderboard = Array.from({ length: 100 }, (_, index) => ({\n    name: 'cheliks-' + index,\n    points: index * 10,\n  }))\n\n  return (\n    <Layout direction=\"row\">\n      <div className={s.content}>\n        <h2>Rofloturik</h2>\n\n        <TabView>\n          <TabPanel header=\"stage I\">Content I</TabPanel>\n          <TabPanel header=\"stage II\">Content II</TabPanel>\n          <TabPanel header=\"stage III\">Content III</TabPanel>\n        </TabView>\n      </div>\n\n      <Leaderboard className={s.leaderboard} leaders={leaderboard} />\n    </Layout>\n  )\n}\n","import { FC } from 'react'\nimport { Button } from 'primereact/button'\nimport { PrimeIcons } from 'primereact/api'\n\nimport { User } from 'api/user'\n\nimport s from './Header.module.scss'\n\ninterface Props {\n  login: () => void\n  logout: () => void\n  user: User | null\n}\n\nexport const Header: FC<Props> = ({ login, logout, user }) => {\n  return (\n    <header className={s.header}>\n      <img\n        className={s.logo}\n        src=\"https://avatars.githubusercontent.com/u/86535297?s=200&v=4\"\n        alt=\"app-logo\"\n      />\n      <div>\n        {user ? (\n          <Button label=\"Logout\" onClick={logout} />\n        ) : (\n          <Button label=\"Sign In\" icon={PrimeIcons.GOOGLE} onClick={login} />\n        )}\n      </div>\n    </header>\n  )\n}\n","import firebase from 'firebase/app'\nimport 'firebase/auth'\n\nexport const firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREABASE_APP_ID,\n}\n\nfirebase.initializeApp(firebaseConfig)\n\nexport const provider = new firebase.auth.GoogleAuthProvider()\nexport const auth = firebase.auth()\n","import axios, { AxiosResponse } from 'axios'\n\nimport { auth, provider } from 'modules/auth'\n\nexport interface User {\n  id?: string | null\n  name?: string | null\n  profileImageUrl?: string | null\n}\n\nconst signIn = (user: User): Promise<string> => {\n  return axios\n    .post(`${process.env.REACT_APP_API_URL}/login`, user)\n    .then((response: AxiosResponse<{ token: string }>) => response.data.token)\n}\n\nexport const googleAuth = (): Promise<{ token: string; user: User }> => {\n  return auth.signInWithPopup(provider).then(async result => {\n    const user = {\n      id: result.user?.uid,\n      name: result.user?.displayName,\n      profileImageUrl: result.user?.photoURL,\n    }\n\n    const token = await signIn(user).then(token => token)\n\n    return { token, user }\n  })\n}\n\nexport const getUser = (token: string): Promise<User> => {\n  return axios\n    .get(`${process.env.REACT_APP_API_URL}/user`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n    .then((response: AxiosResponse<User>) => response.data)\n}\n","import { useState, useEffect } from 'react'\n\nimport { googleAuth, getUser, User } from 'api/user'\n\nexport const useAuth = (): [User | null, { login: () => void; logout: () => void }] => {\n  const [user, setUser] = useState<User | null>(null)\n\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    if (token) {\n      getUser(token).then(user => {\n        setUser({\n          id: user.id,\n          name: user.name,\n          profileImageUrl: user.profileImageUrl,\n        })\n      })\n    }\n  }, [])\n\n  const login = () => {\n    googleAuth().then(({ token, user }) => {\n      setUser(user)\n      localStorage.setItem('token', token)\n    })\n  }\n\n  const logout = () => {\n    const token = localStorage.getItem('token')\n    if (token) {\n      setUser(null)\n      localStorage.removeItem('token')\n    }\n  }\n\n  return [user, { login, logout }]\n}\n","import { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom'\n\nimport { Routes } from 'modules/routing'\nimport { Dashboard } from 'pages/dashboard'\nimport { Tournament } from 'pages/tournament'\nimport { Header } from 'components/header'\n\nimport { useAuth } from 'hooks'\n\nexport const App = (): JSX.Element => {\n  const [user, { login, logout }] = useAuth()\n\n  return (\n    <>\n      <Header login={login} logout={logout} user={user} />\n      <BrowserRouter>\n        <Switch>\n          <Route path={Routes.dashboard}>\n            <Dashboard />\n          </Route>\n          <Route path={Routes.tournament}>\n            <Tournament />\n          </Route>\n\n          <Redirect to={Routes.dashboard} />\n        </Switch>\n      </BrowserRouter>\n    </>\n  )\n}\n","import { StrictMode } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { App } from './App'\n\nimport './index.scss'\n\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}